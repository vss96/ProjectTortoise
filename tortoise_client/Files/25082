{"author_flair_css_class":null,"created_utc":1166213667,"score":16,"ups":16,"subreddit":"programming","link_id":"t3_utqb","stickied":false,"subreddit_id":"t5_2fwo","body":"&gt; Is this really a ghastly nightmare over the Python syntax?\r\n\r\nHere's the complete Python code for Python 2.5\r\n\r\n    #!/usr/bin/env python\r\n\r\n    from __future__ import with_statement\r\n\r\n    with open('localfile.txt') as f:\r\n        for line in f:\r\n            print line.replace('x','y'),\r\n\r\nNote that this script *does not* leak, in any case, you can't leave a file open.\r\n\r\nNow here's an equivalent version in Java, with a slight difference: if the BufferedReader constructor throws an exception the file is left open\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    class Replace {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedReader in = new BufferedReader(new FileReader(\"localfile.txt\"));\r\n            try {\r\n                String line;\r\n                while ((line = in.readLine()) != null) {\r\n                    System.out.println(line.replace('x','y'));\r\n                } \r\n            } finally {\r\n                in.close();\r\n            }\\t\r\n        }\r\n    }\r\n\r\nAnd here is, taken from this very thread, the exact equivalent to the Python script (doesn't handle exceptions, but doesn't leave files half open):\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    class Replace {\r\n        public static void main(String[] args) throws IOException {\r\n            FileReader reader = new FileReader(\"localfile.txt\");\r\n            try {\r\n                BufferedReader in = new BufferedReader(reader);\r\n                try {\r\n                    String line;\r\n                    while ((line = in.readLine()) != null) {\r\n                        System.out.println(line.replace('x','y'));\r\n                    } \r\n                } finally {\r\n                    in.close();\r\n                }\r\n            } finally {\r\n                reader.close();\r\n            } \r\n        }\r\n    }\r\n\r\nI think we can indeed call this \"a ghastly nightmare over the python syntax\", yeah","controversiality":0,"retrieved_on":1473808649,"distinguished":null,"gilded":0,"id":"cuyea","edited":false,"parent_id":"t1_cuu14","author_flair_text":null,"author":"masklinn","timestamp_epoch":1566236769,"message_id":"31284-3bb0b8fd-7064-4628-90a3-c60040c5d6a8-1566236769"}