{"subreddit_id":"t5_2fwo","stickied":false,"link_id":"t3_tjs6","controversiality":0,"body":"In the section on avoiding ABI breakage he talks about a common technique which is used extensively by Microsoft in the Win32 API. He neglects to mention a technique which was later taken by Microsoft with the invent of COM, and is IMHO preferable in many cases: never change existing source/binary interfaces; always make new ones instead. You can support legacy interfaces by writing adapters. The code to do this (modulo boilerplate) is roughly what you already need with his advocated approach of size or tag checking, but it's a lot cleaner and less likely to break existing client code since concerns are more cleanly separated. See DirectX for a good example of this at work.\r\n\r\nI'm sure MS haters are going to jump on my back for mentioning COM, but its core design principles are IMO very sound and deserve to be better known to the non-Windows programming crowd.\r\n\r\nEdit: Here's a good COM overview paper, http://www.cs.umd.edu/~pugh/com/.","score":1,"ups":1,"created_utc":1165244210,"author_flair_css_class":null,"subreddit":"programming","id":"ctk39","parent_id":"t3_tjs6","edited":false,"author":"psykotic","author_flair_text":null,"distinguished":null,"retrieved_on":1473807708,"gilded":0,"timestamp_epoch":1566236760,"message_id":"6622-d522cc6c-ac88-468c-a0c9-db2ff70d6bf1-1566236760"}