{"edited":false,"parent_id":"t3_uqo3","id":"cus21","author":"[deleted]","author_flair_text":null,"distinguished":null,"retrieved_on":1473808530,"gilded":0,"subreddit_id":"t5_2fwo","stickied":false,"link_id":"t3_uqo3","body":"I know my typical web application code is strewn with Fibonacci series calculations, but on the off chance I need to get something out of a database (HSQL):\r\n\r\nretrieveRecords :: Connection -&gt; IO [(Int,String)]\r\nretrieveRecords c = do\r\n  query c \"select id, name from Test\" &gt;&gt;= collectRows getRow\r\n  where\r\n    getRow :: Statement -&gt; IO (Int,String)\r\n    getRow stmt = do\r\n      id   &lt;- getFieldValue stmt \"id\"\r\n      name &lt;- getFieldValue stmt \"name\"\r\n      return (id,name)\r\n\r\nLuckily, I'm doing it in Lisp though, so the syntax is simpler for actual practical applications (CLSQL):\r\n\r\n(clsql:select [id] [name] :from [test])","controversiality":0,"ups":15,"score":15,"created_utc":1166113594,"author_flair_css_class":null,"subreddit":"programming","timestamp_epoch":1566236768,"message_id":"28194-8415fbc2-f9d3-4e6e-a802-96689303f0c5-1566236768"}