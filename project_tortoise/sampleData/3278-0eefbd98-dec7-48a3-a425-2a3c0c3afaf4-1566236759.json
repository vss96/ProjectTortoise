{"created_utc":1165072831,"author_flair_css_class":null,"score":5,"ups":5,"subreddit":"programming","stickied":false,"link_id":"t3_t9zb","subreddit_id":"t5_2fwo","controversiality":0,"body":"The people that get modded up these days.  Sqrt is far more expensive than two inlined native function calls, and HotSpot just converts them to a single line of assembly.  And where Java is *fast* is in its basic numerical functions.  This function would be near optimal for Java.  AND the code compiles to just 34 bytes, so it'll get inlined on top of that.\r\n\r\n    public static float invSqrt(float x)\r\n    {\r\n    float xhalf = 0.5f * x;\r\n    int i = Float.floatToRawIntBits(x);\r\n    i = 0x5f3759df - (i &gt;&gt; 1);  // or is it (i &gt;&gt;&gt; 1) ?\r\n    x = Float.intBitsToFloat(i);\r\n    x = x * (1.5f - xhalf*x*x);\r\n    return x;\r\n    }\r\n\r\nLikely extremely fast in Java.","retrieved_on":1473807562,"distinguished":null,"gilded":0,"edited":false,"id":"ctcfm","parent_id":"t1_ctbwy","author":"feijai","author_flair_text":null,"timestamp_epoch":1566236759,"message_id":"3278-0eefbd98-dec7-48a3-a425-2a3c0c3afaf4-1566236759"}