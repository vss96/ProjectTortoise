{"subreddit_id":"t5_2fwo","link_id":"t3_vywm","stickied":false,"controversiality":1,"body":"A C programmer will sometimes want to process parts of a string at a time, discover strtok, and say \"Oh, cool -- I'll use this!\"  Later they'll have, in 'A calls B calls C', function C calling strtok with function A still expecting to continue its own strtok work -- and this, of course, will fail.  If the state were exposed as in your Scheme, the caller could hack around the issue without too much awfulness.  With a properly non-reentrant function, the programmer will have throw all this away and possibly implement the non-reentrant function all over again to have this minor change in where it keeps its state.\r\n\r\n(In the specific case of strtok, this reimplementation has already happened, and strtok's manpages should properly guide its users to strtok_r)","score":0,"ups":0,"author_flair_css_class":null,"created_utc":1167045474,"subreddit":"programming","parent_id":"t1_cvz44","id":"cvz6q","edited":false,"author":"ayrnieu","author_flair_text":null,"distinguished":null,"retrieved_on":1473809353,"gilded":0,"timestamp_epoch":1566236777,"message_id":"49670-09142528-f8a6-4998-bb45-32674b09ae6e-1566236777"}