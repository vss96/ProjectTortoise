{"gilded":0,"distinguished":null,"retrieved_on":1473808623,"author":"cgibbard","author_flair_text":null,"edited":false,"parent_id":"t1_cuvnu","id":"cux1h","subreddit":"programming","score":3,"ups":3,"author_flair_css_class":null,"created_utc":1166196960,"controversiality":0,"body":"As others have pointed out, that's what do-notation is for, but I'd like to just go into a little more detail.\r\n\r\n    helloworld = do putStr \"Hello\"\r\n                    putStr \" world!\"\r\n\r\n    echo = do x ≺- getLine\r\n              putStr x\r\n\r\nThis do-notation is automatically translated into the (&gt;&gt;) and (&gt;&gt;=) operations. To give a rough idea of the translation:\r\n\r\n    do {x; [stmts]}\r\n     =&gt; x &gt;&gt; do {[stmts]}\r\n\r\n    do {v ≺- x; [stmts]}\r\n     =&gt; x &gt;&gt;= \\v -&gt; do {[stmts]}\r\n\r\n    do {let [decls]; [stmts]}\r\n     =&gt; let [decls] in do {[stmts]}\r\n\r\nIn reality, the translation for \"≺-\" is slightly more complicated, because it actually allows for matching against a pattern, and if that pattern match fails, some code is written in to catch it in a manner dependent on the monad. (There's some dispute about whether the way the standard says to do this is really the right way, but let's not get into that.)  That's the basic idea behind it anyway.\r\n\r\nSo why is it important to know about bind directly? Well, if you just assume that do-notation is going to work *exactly* like an imperative language, you're in for a few surprises. First of all, monads are more general than imperative languages, and in some monads the order in which things happen is not quite the order which is made explicit by do-notation. Also, one has to be aware that the function 'return', which takes a value and turns it into a monadic action returning that value does not do any flow-control. So a return occurring in the middle of a do-block is essentially a no-op.\r\n\r\nDespite these differences, if you choose the right monad, imperative programming is quite possible, and even pleasant.","subreddit_id":"t5_2fwo","link_id":"t3_utqb","stickied":false,"timestamp_epoch":1566236769,"message_id":"30587-08f8cce7-a11f-4f61-80ef-0c315055e0ab-1566236769"}