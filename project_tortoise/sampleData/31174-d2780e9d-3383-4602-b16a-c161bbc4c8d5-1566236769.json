{"controversiality":0,"body":"One possible example is [safe strings](http://blog.moertel.com/articles/2006/10/18/a-type-based-solution-to-the-strings-problem), for which I had to introduce language-typed string constructs that were syntactically clunky.  A typical use of the constructs might look like this:\r\n\r\n    cat [frag \"≺em&gt;\", text mystr, frag \"≺/em&gt;\"]\r\n\r\nTemplate Haskell (TH) allowed me to hide the clunkiness behind a clean, Ruby-like string-interpolation syntax:\r\n\r\n    $(q \"≺em&gt;#{mystr}≺/em&gt;\")\r\n\r\nWithout TH, the safe-string library would have been too ugly to use.  With TH, however, the experience is actually pleasant.","subreddit_id":"t5_2fwo","stickied":false,"link_id":"t3_utz4","subreddit":"programming","score":6,"ups":6,"created_utc":1166210488,"author_flair_css_class":null,"author":"tmoertel","author_flair_text":null,"parent_id":"t1_cuu2j","edited":false,"id":"cuy5b","gilded":0,"distinguished":null,"retrieved_on":1473808645,"timestamp_epoch":1566236769,"message_id":"31174-d2780e9d-3383-4602-b16a-c161bbc4c8d5-1566236769"}