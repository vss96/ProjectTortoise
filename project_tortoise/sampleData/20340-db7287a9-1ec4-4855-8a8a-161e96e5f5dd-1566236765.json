{"author_flair_text":null,"author":"sghemawat","edited":false,"id":"cuc6g","parent_id":"t1_cuae2","gilded":0,"retrieved_on":1473808232,"distinguished":null,"body":"Actually, returning memory to the system (implemented recently in tcmalloc) doesn't really affect performance much, since it needs to be done rarely.\r\n\r\nThe main speed gain in tcmalloc is from avoiding expensive instructions like compare-and-swap and atomic-increment on fast paths.  (These instructions take ~ 50 to 100 cycles to execute on recent x86 implementations.)\r\n","controversiality":0,"stickied":false,"link_id":"t3_u983","subreddit_id":"t5_2fwo","subreddit":"programming","created_utc":1165771687,"author_flair_css_class":null,"ups":3,"score":3,"timestamp_epoch":1566236765,"message_id":"20340-db7287a9-1ec4-4855-8a8a-161e96e5f5dd-1566236765"}