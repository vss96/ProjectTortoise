{"gilded":0,"distinguished":null,"retrieved_on":1473808137,"author":"pkhuong","author_flair_text":null,"edited":false,"id":"cu73d","parent_id":"t3_u6d7","subreddit":"programming","score":5,"ups":5,"created_utc":1165631089,"author_flair_css_class":null,"body":"If you really want your coworkers to hate you, allocate the initial chunk inline, but with a dynamic size (after the end of the class). That eliminates a good part of the guesswork for the best tradeoff between speed and space. You'll probably want to use a factory function; overloading the operators correctly seems tricky.\r\n\r\nThat idiom's even standardised in C99 (!): the last element of a struct can be a `foo[]`, in which case indexing `foo` indexes off the end of the struct. I'm not sure if *that* is in C++, and I'm not sure I want to know ;)","controversiality":0,"subreddit_id":"t5_2fwo","stickied":false,"link_id":"t3_u6d7","timestamp_epoch":1566236763,"message_id":"17677-e3129303-410d-4d81-9579-9d093c66f225-1566236763"}