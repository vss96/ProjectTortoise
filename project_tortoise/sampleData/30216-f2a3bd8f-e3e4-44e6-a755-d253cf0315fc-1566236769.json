{"gilded":0,"distinguished":null,"retrieved_on":1473808606,"author":"masklinn","author_flair_text":null,"id":"cuw4a","edited":false,"parent_id":"t1_cuu01","subreddit":"programming","score":7,"ups":7,"author_flair_css_class":null,"created_utc":1166184773,"controversiality":0,"body":"And with Python 2.5' `with` statement, it became even simpler:\r\n\r\n    with file(\"localfile.txt\") as f:\r\n        for line in f:\r\n            print line.replace(\"x\",\"y\")\r\n\r\nBy the way your statement could be written as:\r\n\r\n    for line in file(\"localfile.txt\"):\r\n        print line.replace(\"x\",\"y\")\r\n\r\nThe issue of both your and the later code snippets are that the file may not be closed until the end of the current context (function/method, usually) when the garbage collector reclaims the file object.\r\n\r\nThe `with` version, on the other hand, ensure that the file will be closed right at the end of the `with` expression, as soon as you don't need it anymore.","subreddit_id":"t5_2fwo","link_id":"t3_utqb","stickied":false,"timestamp_epoch":1566236769,"message_id":"30216-f2a3bd8f-e3e4-44e6-a755-d253cf0315fc-1566236769"}